---
layout: default
lang: en
---

<section class="container">
  <p class="time-created" style="margin-bottom: -20px">
    {{ page.date | date: "%B %-d, %Y" }}
  </p>
  <h2>{{ page.title }}</h2>
  <!-- <p>Thanks for taking a stop at my corner of the web!</p> -->

  <!-- Dynamic Categories -->
  <div class="tags">
    {% for category in page.categories %}
      <button class="tag-button">{{ category }}</button>
    {% endfor %}
  </div>

  <p>{{ content }}</p>

  <!-- Similar Posts Section -->
  <div class="similar-posts">
    <h3>Similar Posts</h3>
    <div class="grid">
      {% assign maxRelated = 3 %}
      {% assign relatedCount = 0 %}

      {% for post in site.posts %}
        {% if post.url != page.url %} <!-- Exclude current post -->
          <!-- Check shared categories -->
          {% for category in post.categories %}
            {% if page.categories contains category %}
              <a class="post" href="{{ post.url }}">
                <h4>{{ post.title }}</h4>
                <span class="similar-date">{{ post.date | date: "%B %-d, %Y" }}</span>
                <p>
                  {% if post.excerpt %}
                    {{ post.excerpt | strip_html | truncate: 120 }}
                  {% else %}
                    {{ post.content | strip_html | truncate: 120 }}
                  {% endif %}
                </p>
              </a>
              {% assign relatedCount = relatedCount | plus: 1 %}
              {% if relatedCount >= maxRelated %}
                {% break %}
              {% endif %}
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endfor %}

      <!-- Fallback if no related posts -->
      {% if relatedCount == 0 %}
        <p>No similar posts found.</p>
      {% endif %}
    </div>
  </div>
</section>